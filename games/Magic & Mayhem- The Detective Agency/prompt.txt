
Task

Create an HTML5 canvas game based on the game description provided below.
Constraints

    Single file only: One .html file containing all HTML, CSS, and JavaScript.

    Relatively small game

    Canvas size: 1024 × 720.

    Images: Image dimensions are indicated in each asset’s name. You may resize images at runtime to fit gameplay.

    Offline-ready: The file must run locally in a browser with no additional setup.

Frameworks to use
    No frameworks pure JS  

No music or sound effects   

Assets
    List of available images :
    path: images/418x450_character-customization.png description: A whimsical magical detective character with a hat, wand, and playful expression, standing in a vibrant magical town.
path: images/458x456_collecting-clues.png description: A colorful floating island with magical trees, glowing runes, and a whimsical sky.
path: images/214x453_detective-character.png description: A magical forest with glowing mushrooms, floating flowers, and hidden paths for the detective to navigate.
path: images/512x512_enchanted-forest.png description: A towering wizard's castle with floating stairs, enchanted traps, and magical runes.
path: images/409x512_floating-islands.png description: A spinning ring of magical runes with glowing effects, creating an obstacle for the detective.
path: images/300x444_freeze-magic.png description: A mischievous goblin with a mischievous grin, hiding in a magical forest path.
path: images/512x512_game-over-screen.png description: A magical teleportation effect with glowing lines and a detective using it to avoid a trap.
path: images/512x512_goblin-hazard.png description: A detective with a glowing shield, deflecting a magical attack in a whimsical setting.
path: images/512x512_high-score-screen.png description: A detective freezing a floating debris with a magical spell, creating a safe path.
path: images/512x437_level-complete.png description: A magical maze with glowing walls and hidden paths, featuring a detective solving a puzzle.
path: images/512x512_magic-maze.png description: A magical rune puzzle with glowing symbols, where the detective must solve the riddle to progress.
path: images/512x512_magical-stun.png description: Different magical detective characters with unique styles and abilities, such as a cat-like detective or a wizard with a hat.
path: images/512x512_magical-town.png description: A detective collecting magical items and clues in a colorful, enchanted environment.
path: images/512x512_playful-tone.png description: A level with increasingly complex obstacles, including floating platforms, traps, and magical hazards.
path: images/394x389_progressive-difficulty.png description: A high score screen showing the detective's progress and achievements in a magical setting.
path: images/512x512_runes-riddle.png description: A whimsical scene with a detective laughing, surrounded by floating confetti and magical effects.
path: images/464x502_shield-magic.png description: A detective being magically stunned by a trap, with glowing effects and a playful tone.
path: images/512x512_spinning-runes.png description: A level complete screen showing the detective reaching the destination with a magical sparkle effect.
path: images/512x512_teleport-magic.png description: A vibrant, magical town with glowing buildings, floating islands, and a lively atmosphere.
path: images/378x486_wizard-tower.png description: A game over screen with a playful message and a magical sparkle effect, encouraging the player to try again.

Output Requirements

    A complete, runnable single HTML file with embedded <style> and <script>.

    Clear initialization code that sets up the 1024×720 canvas and game loop.

    Basic input handling (keyboard/mouse/touch as appropriate).

    Include minimal UI (start/restart, score/lives, instructions).

Deliverable

Return only the single HTML file content.

Game Description
**Game Title:** *Magic & Mayhem: The Detective Agency*

**Genre:** Puzzle / Avoid Obstacles  
**Theme:** Magical detective agency  
**Tone:** Whimsical, lighthearted, and playful

---

**Game Concept:**

In *Magic & Mayhem: The Detective Agency*, players take on the role of a young, magical detective who runs a cozy but chaotic detective agency in a whimsical, enchanted town. The goal is to solve a series of mysterious cases, each with its own unique obstacle course, all while avoiding magical mishaps that could ruin the case—or worse, turn the detective into a literal puff of smoke.

---

**Gameplay Mechanics:**

- **Detective Movement:** The player controls the detective using simple swipe or click-based movement, navigating through magical environments like floating islands, enchanted forests, and wizard towers.
- **Obstacle Avoidance:** Each level is a 2D platformer-style obstacle course filled with magical hazards—spinning runes, mischievous goblins, enchanted traps, and floating debris. The player must avoid these to progress.
- **Magic Powers:** The detective can use basic magic (e.g., teleport short distances, create temporary shields, or freeze certain obstacles) to bypass or avoid hazards. These powers are limited and must be used wisely.
- **Case Completion:** Each level ends when the detective reaches the case's destination (like a hidden vault or a magical creature's lair), but the player must avoid all hazards to succeed. If caught in a trap, the detective is “magically stunned” and must restart the level.

---

**Objectives:**

- Solve 10+ magical cases by navigating through obstacle-filled environments.
- Collect magical items and clues to unlock new powers and story elements.
- Achieve high scores by avoiding hazards and completing levels in the fewest moves.

---

**Unique Features:**

- **Whimsical Art Style:** Bright, colorful visuals with charming character designs and magical effects that make the world feel alive and playful.
- **Progressive Difficulty:** Each case introduces new types of obstacles and magic mechanics, keeping the gameplay fresh and challenging.
- **Mini-Games & Puzzles:** Some levels include mini-games like “Magic Maze” or “Rune Riddle” where the player must solve a puzzle to avoid a trap.
- **Character Customization:** Players can choose different magical detectives with unique abilities and styles, each affecting how they approach obstacles and solve cases.

---

**Why It Stands Out:**

*Magic & Mayhem: The Detective Agency* blends the charm of a magical detective story with the fun and challenge of an obstacle-avoidance game. Its simple mechanics, playful tone, and creative world-building make it an engaging and addictive experience for all ages.
